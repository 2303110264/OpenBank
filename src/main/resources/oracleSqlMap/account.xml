<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--
CREATE TABLE TEST_ACCOUNT(
	ACC_NUM	NUMBER PRIMARY KEY
	, ACC_NAME VARCHAR2(30) NOT NULL
	, PRODUCT_NUM NUMBER(2) NOT NULL
	, CUSTOMER_NAME VARCHAR2(18) NOT NULL
	, CUSTOMER_ID NUMBER(8) NOT NULL
	, INTEREST_RATE NUMBER(5,4) NOT NULL
	, BALANCE NUMBER(15) NOT NULL
	, REG_DATE DATE DEFAULT sysdate NOT NULL
	, RET_DATE DATE NOT NULL
	, LAST_TRADE_DATE DATE NOT NULL
	, CONSTRAINT FK_CUSTOMER_ID FOREIGN KEY(CUSTOMER_ID) REFERENCES TEST_CUSTOMER(CUSTOMER_ID)
	, CONSTRAINT FK_PRODUCT_NUM FOREIGN KEY(PRODUCT_NUM) REFERENCES TEST_PRODUCT_LIST(PRODUCT_NUM)
	);
 -->
<mapper namespace="dao.AccountDAO">
	<select id="searchByAccNum" parameterType="String" resultType="accountVO">
		select acc_num accnum, acc_name accName,
			product_num productNum, customer_name customerName,
			interest_rate interestRate, balance,
			to_char(reg_date, 'yyyy-mm-dd') regDate,
			to_char(ret_date, 'yyyy-mm-dd') retDate,
			to_char(last_trade_date, 'yyyy-mm-dd') lastTradeDate,
		from test_account
		where acc_num = #{accNum}
	</select>
</mapper>
